# version: '3.8'
# services:
#   back:
#     networks:
#       - weeting-network
#     container_name: back
#     hostname: back
#     build:
#       context: ./BackEnd
#       dockerfile: Dockerfile
#     image: superjaehun/project:back
#     ports:
#       - "9002:8080"
#     depends_on:
#       - mysql

#   front:
#     networks:
#       - weeting-network
#     container_name: front
#     hostname: front
#     build:
#       context: ./FrontEnd
#       dockerfile: Dockerfile
#     image: superjaehun/project:front
#     ports:
#       - "9003:3000"
#     depends_on:
#       - back

#   mysql:
#     networks:
#       - weeting-network
#     image: mysql:latest
#     environment:
#       MYSQL_DATABASE: weeting
#       MYSQL_ROOT_PASSWORD: c103103
#     ports:
#       - "3306:3306"
#     volumes:
#       - mysql_data:/var/lib/mysql

#   rabbitmq:
#     container_name: rabbitmq
#     hostname: rabbitmq
#     image: rabbitmq:management
#     networks:
#       - weeting-network
#     ports:
#       - "5672:5672"
#       - "15672:15672"
#       - "61613:61613"
#     environment:
#       - RABBITMQ_DEFAULT_USER=guest
#       - RABBITMQ_DEFAULT_PASS=guest
#     volumes:
#       - rabbitmq_data:/var/lib/rabbitmq
#       - ./rabbitmq.conf:/etc/rabbitmq/rabbitmq.conf
#     command: ["sh", "-c", "rabbitmq-plugins enable rabbitmq_stomp rabbitmq_web_stomp rabbitmq_management rabbitmq_web_stomp_examples; rabbitmq-server"]

# volumes:
#   mysql_data:
#   rabbitmq_data:

# networks:
#   weeting-network:
#     external: true
